(this.webpackJsonp493teams=this.webpackJsonp493teams||[]).push([[0],{25:function(e,t,a){},70:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(2),i=a.n(n),c=a(22),o=a.n(c),r=(a(70),a(71),a(13)),l=a(14),d=a(16),h=a(15),j=(a.p,a(25),a(36));j.a.initializeApp({apiKey:"AIzaSyC2y91CURRmBsyzrIi96IVx_2tdnMEIYpw",authDomain:"eecs-493-96f7b.firebaseapp.com",databaseURL:"https://eecs-493-96f7b.firebaseio.com",projectId:"eecs-493-96f7b",storageBucket:"eecs-493-96f7b.appspot.com",messagingSenderId:"746380302805",appId:"1:746380302805:web:d44a0675ece3ea84d2855c"});var m=j.a,u=a(37),b=a(10),O={getUserInfo:function(e){var t=j.a.firestore();t.settings({timestampsInSnapshots:!0}),t.collection("users").doc(e).get().then((function(e){return e.data()}))},getTeamInfo:function(e){var t=j.a.firestore();t.settings({timestampsInSnapshots:!0}),t.collection("teams").doc(e).get().then((function(e){return e.data()}))},getTeamFromUser:function(e){var t=j.a.firestore();t.settings({timestampsInSnapshots:!0}),t.collection("users").doc(e).get().then((function(e){if(!1===e.data().onTeam)return"User not on team";var a=e.data().teamName;t.collection("teams").doc(a).get().then((function(e){return e.data()}))}))},userStatus:function(e){var t=j.a.firestore();t.settings({timestampsInSnapshots:!0}),t.collection("users").doc(e).get().then((function(e){return e.empty?"not on roster":e.data().isAdmin?"admin":e.data().onTeam?"team":"unassigned"}))}},p=a(94),g=a(93),x=a(92),v=a(86),f=a(91),y=a(17),S=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={teamName:"",redi:!1,uniq1:"",uniq2:"",uniq3:"",uniq4:"",show:!1,show2:!1,uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),onTeam:!1},s.updateInput=s.updateInput.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s.addTeam=s.addTeam.bind(Object(b.a)(s)),s.sendData=s.sendData.bind(Object(b.a)(s)),s.handleShow=s.handleShow.bind(Object(b.a)(s)),s.handleHide=s.handleHide.bind(Object(b.a)(s)),s.handleSecondHide=s.handleSecondHide.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"sendData",value:function(e,t,a){var s,n=m.firestore();n.settings({timestampsInSnapshots:!0});var i=!1,c="";switch(e){case 1:s=this.state.uniq1,i=!0,c=t;break;case 2:s=this.state.uniq2;break;case 3:s=this.state.uniq3;break;case 4:s=this.state.uniq4}n.collection("users").doc(s).get().then((function(e){if(e.exists){var a=e.data().invitations,o=e.data().numInvitations;a.push(t),n.collection("users").doc(s).update({invitations:a,numInvitations:o+1})}else{var r={uniqname:s,invitations:[t],isAdmin:!1,numInvitations:1,onTeam:i,teamName:c};n.collection("users").doc(s).set(r)}}))}},{key:"updateInput",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"addTeam",value:function(e){e.preventDefault();var t=m.firestore();t.settings({timestampsInSnapshots:!0});var a=this.state.teamName.split(" ").join("");""===this.state.uniq4?(t.collection("teams").doc(a).set({teamName:a,uniqname1:this.state.uniq[0],uniqname2:this.state.uniq[1],uniqname3:this.state.uniq[2],uniqname4:"",uniqname1Accepted:!1,uniqname2Accepted:!1,uniqname3Accepted:!1}),this.sendData(1,a),this.sendData(2,a),this.sendData(3,a)):(t.collection("teams").doc(a).set({teamName:a,uniqname1:this.state.uniq1,uniqname2:this.state.uniq2,uniqname3:this.state.uniq3,uniqname4:this.state.uniq4,uniqname1Accepted:!1,uniqname2Accepted:!1,uniqname3Accepted:!1,uniqname4Accepted:!1}),this.sendData(1,a),this.sendData(2,a),this.sendData(3,a),this.sendData(4,a)),this.setState({show2:!0})}},{key:"handleShow",value:function(e){e.preventDefault(),console.log("made it here"),this.setState({show:!0})}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"handleSecondHide",value:function(){this.setState({redi:!0,show2:!1})}},{key:"render",value:function(){return!0===this.state.redi||"team"===this.state.usertype?Object(s.jsx)(y.a,{to:"/view-team"}):"admin"===this.state.usertype?Object(s.jsx)(y.a,{to:"/admin-home"}):localStorage.getItem("uniqname")?(console.log(this.state),Object(s.jsxs)("div",{className:"createteam",children:[Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/create-team",children:Object(s.jsx)("img",{src:"/EECS493_landscape.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/create-team",children:"Create Team"}),Object(s.jsx)(g.a.Link,{href:"/team-invites",children:"Team Invitations"}),Object(s.jsx)(g.a.Link,{href:"/see-teams",children:"Registered Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"loggedInHeader",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("h1",{className:"title",children:"Register your team"}),Object(s.jsxs)("div",{className:"body-content",children:[Object(s.jsxs)(x.a,{className:"text-left",onSubmit:this.handleShow,children:[Object(s.jsxs)(x.a.Group,{controlId:"fullname",children:[Object(s.jsx)(x.a.Label,{children:"Team name"}),Object(s.jsx)(x.a.Control,{required:!0,type:"text",name:"teamName",placeholder:"",onChange:this.updateInput,value:this.state.teamName})]}),Object(s.jsxs)(x.a.Group,{controlId:"uniq1",children:[Object(s.jsx)(x.a.Label,{children:"Uniqname 1"}),Object(s.jsx)(x.a.Control,{required:!0,type:"text",name:"uniq1",placeholder:this.state.uniqname,defaultValue:this.state.uniqname})]}),Object(s.jsxs)(x.a.Group,{controlId:"uniq1",children:[Object(s.jsx)(x.a.Label,{children:"Uniqname2"}),Object(s.jsx)(x.a.Control,{required:!0,type:"text",name:"uniq2",placeholder:"",onChange:this.updateInput,value:this.state.uniq2})]}),Object(s.jsxs)(x.a.Group,{controlId:"uniq1",children:[Object(s.jsx)(x.a.Label,{children:"Uniqname3"}),Object(s.jsx)(x.a.Control,{required:!0,type:"text",name:"uniq3",placeholder:"",onChange:this.updateInput,value:this.state.uniq3})]}),Object(s.jsxs)(x.a.Group,{controlId:"uniq1",children:[Object(s.jsx)(x.a.Label,{children:"Uniqname4"}),Object(s.jsx)(x.a.Control,{type:"text",name:"uniq4",placeholder:"",onChange:this.updateInput,value:this.state.uniq4})]}),Object(s.jsx)("br",{}),Object(s.jsx)(v.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(s.jsxs)(f.a,{show:this.state.show,onHide:this.handleHide,children:[Object(s.jsx)(f.a.Header,{closeButton:!0,children:Object(s.jsx)(f.a.Title,{children:"Do you want to create this team?"})}),Object(s.jsxs)(f.a.Body,{children:[Object(s.jsx)("h2",{children:this.state.teamName}),Object(s.jsx)("p",{children:this.state.uniq1}),Object(s.jsx)("p",{children:this.state.uniq2}),Object(s.jsx)("p",{children:this.state.uniq3}),Object(s.jsx)("p",{children:this.state.uniq4})]}),Object(s.jsxs)(f.a.Footer,{children:[Object(s.jsx)(v.a,{variant:"secondary",onClick:this.handleHide,children:"Cancel"}),Object(s.jsx)(v.a,{variant:"success",onClick:this.addTeam,children:"Create Team"})]})]}),Object(s.jsxs)(f.a,{show:this.state.show2,onHide:this.handleHide,children:[Object(s.jsx)(f.a.Header,{closeButton:!0,children:Object(s.jsx)(f.a.Title,{children:"Success!"})}),Object(s.jsxs)(f.a.Body,{children:[Object(s.jsx)("h2",{children:"Please ask these team members to log into 493teams and accept this team invitation:"}),Object(s.jsx)("p",{children:this.state.uniq1}),Object(s.jsx)("p",{children:this.state.uniq2}),Object(s.jsx)("p",{children:this.state.uniq3}),Object(s.jsx)("p",{children:this.state.uniq4})]}),Object(s.jsx)(f.a.Footer,{children:Object(s.jsx)(v.a,{variant:"success",onClick:this.handleSecondHide,children:"Create Team"})})]})]})]})})]})):Object(s.jsx)(y.a,{to:"/"})}}]),a}(i.a.Component),q=a(87),T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),s=t.call(this,e),console.log("props",e),s.state={teams:[],userdata:e.location,uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),teamName:"",onTeam:"team"===localStorage.getItem("user-type"),dataLoaded:!1},s.viewTeam=s.viewTeam.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(console.log(localStorage.getItem("user-type")),this.state.onTeam){m.firestore().settings({timestampsInSnapshots:!0}),console.log("state",this.state.uniqname);var e=O.getTeamFromUser(this.state.uniqname);this.setState({teams:e}),this.setState({dataLoaded:!0})}}},{key:"viewTeam",value:function(){if(!0===this.state.dataLoaded&&this.state.onTeam){var e=this.state.teams[0];return console.log(this.state.teams),console.log("made it here"),Object(s.jsxs)(q.a,{striped:!0,bordered:!0,className:"w-25",children:[Object(s.jsxs)("thead",{children:[Object(s.jsx)("tr",{children:Object(s.jsx)("th",{colSpan:"2",children:e.teamName})}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Uniqname"}),Object(s.jsx)("th",{children:"Status"})]})]}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.uniqname1}),Object(s.jsx)("td",{children:e.uniqname1Accepted?"accepted":"pending"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.uniqname2}),Object(s.jsx)("td",{children:e.uniqname2Accepted?"accepted":"pending"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.uniqname3}),Object(s.jsx)("td",{children:e.uniqname3Accepted?"accepted":"pending"})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.uniqname4}),Object(s.jsx)("td",{children:e.uniqname4Accepted?"accepted":"pending"})]})]})]})}return Object(s.jsx)("p",{children:"Loading..."})}},{key:"render",value:function(){if(!this.state.uniqname)return Object(s.jsx)(y.a,{to:"/"});if(!this.state.onTeam)return Object(s.jsx)(y.a,{to:"/create-team"});console.log(this.state.usertype);this.state.teams;return Object(s.jsxs)("div",{className:"viewteam",children:[Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/view-team",children:Object(s.jsx)("img",{src:"/EECS493_landscape.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/view-team",children:"My Team"}),Object(s.jsx)(g.a.Link,{href:"/see-teams",children:"All Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"loggedInHeader",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("h1",{className:"title",children:"Your Current Team"}),Object(s.jsxs)("div",{className:"body-content",children:[Object(s.jsx)("p",{children:this.viewTeam()}),Object(s.jsx)("br",{})]})]})})]})}}]),a}(i.a.Component),I=(i.a.Component,i.a.Component,a(95)),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={invitation:"",teamMems:[],dataLoaded:!1,accepted:!1,show:!1},s.viewInvitation=s.viewInvitation.bind(Object(b.a)(s)),s.handleShow=s.handleShow.bind(Object(b.a)(s)),s.handleHide=s.handleHide.bind(Object(b.a)(s)),s.acceptedTeam=s.acceptedTeam.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){m.firestore().settings({timestampsInSnapshots:!0});var e=O.getUserInfo(localStorage.getItem("uniqname")).invitations[this.props.invNum];this.setState({invitation:e});var t,a,s,n,i=O.getTeamInfo(this.state.invitation),c=[];t=i.uniqname1,a=i.uniqname2,s=i.uniqname3,c.push(t),c.push(a),c.push(s);try{n=i.uniqname4,c.push(n)}catch(o){console.log(o)}this.setState({teamMems:c}),this.setState({dataLoaded:!0})}},{key:"viewInvitation",value:function(){return!1===this.state.dataLoaded?Object(s.jsx)("h2",{children:"Loading..."}):Object(s.jsx)(I.a,{children:Object(s.jsxs)(I.a.Body,{children:[Object(s.jsx)(I.a.Title,{children:this.state.invitation}),Object(s.jsx)(I.a.Text,{children:this.state.teamMems.join(", ")}),Object(s.jsx)(v.a,{variant:"success",onClick:this.handleShow,children:"Join Team"})]})})}},{key:"handleShow",value:function(){console.log("made it here"),this.setState({show:!0})}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"acceptedTeam",value:function(){var e=this,t=m.firestore();t.settings({timestampsInSnapshots:!0});var a,s=this.state.teamMems[0],n=this.state.teamMems[1],i=this.state.teamMems[2];4===this.state.teamMems.length&&(a=this.state.teamMems[3]);var c=localStorage.getItem("uniqname");switch(console.log(c),c){case s:t.collection("teams").doc(this.state.invitation).update({uniqname1Accepted:!0});break;case n:t.collection("teams").doc(this.state.invitation).update({uniqname2Accepted:!0});break;case i:t.collection("teams").doc(this.state.invitation).update({uniqname3Accepted:!0});break;case a:t.collection("teams").doc(this.state.invitation).update({uniqname4Accepted:!0})}t.collection("users").doc(localStorage.getItem("uniqname")).update({onTeam:!0,teamName:this.state.invitation}).then((function(){e.setState({accepted:!0})}))}},{key:"render",value:function(){return!0===this.state.accepted?(localStorage.setItem("user-type","team"),Object(s.jsx)(y.a,{to:"/view-team"})):Object(s.jsxs)("div",{className:"Invite",children:[this.viewInvitation(),Object(s.jsxs)(f.a,{show:this.state.show,onHide:this.handleHide,children:[Object(s.jsx)(f.a.Header,{closeButton:!0,children:Object(s.jsx)(f.a.Title,{children:"Do you want to accept this team Invitation?"})}),Object(s.jsxs)(f.a.Body,{children:[Object(s.jsx)("h2",{children:this.state.invitation}),Object(s.jsx)("p",{children:this.state.teamMems.join(", ")})]}),Object(s.jsxs)(f.a.Footer,{children:[Object(s.jsx)(v.a,{variant:"secondary",onClick:this.handleHide,children:"Cancel"}),Object(s.jsx)(v.a,{variant:"success",onClick:this.acceptedTeam,children:"Accept Invitation"})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})}}]),a}(i.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={numInv:0,uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),dataLoaded:!1,onTeam:!1},s.renderInvitations=s.renderInvitations.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){m.firestore().settings({timestampsInSnapshots:!0});var e=O.getUserInfo(this.state.uniqname);this.setState({numInv:e.numInvitations,onTeam:e.onTeam})}},{key:"renderInvitations",value:function(){var e=Array.from(Array(this.state.numInv)).map((function(e,t){return Object(s.jsx)(k,{invNum:t})}));return console.log(e),e}},{key:"render",value:function(){return localStorage.getItem("uniqname")?"team"===this.state.usertype?Object(s.jsx)(y.a,{to:"/view-team"}):"admin"===this.state.usertype?Object(s.jsx)(y.a,{to:"/admin-home"}):Object(s.jsxs)("div",{className:"Home",children:[Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/create-team",children:Object(s.jsx)("img",{src:"/EECS493_landscape.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/create-team",children:"Create Team"}),Object(s.jsx)(g.a.Link,{href:"/team-invites",children:"Team Invitations"}),Object(s.jsx)(g.a.Link,{href:"/see-teams",children:"Registered Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"App-header",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("h1",{className:"title",children:"493 Team Invitations "}),Object(s.jsxs)("div",{className:"body-content",children:[Object(s.jsxs)("h2",{children:["You have (",this.state.numInv,") invitations"]}),this.renderInvitations(),Object(s.jsx)("br",{})]})]})})]}):Object(s.jsx)(y.a,{to:"/"})}}]),a}(i.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),onTeam:!1,searched:!1,searchVal:"",searchType:"",foundTeam:!1,teamName:""},s.handleSearch=s.handleSearch.bind(Object(b.a)(s)),s.updateInput=s.updateInput.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"updateInput",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleSearch",value:function(e){var t=this;e.preventDefault(),console.log(this.state);var a=m.firestore();if(a.settings({timestampsInSnapshots:!0}),console.log(this.state.searchType),"Teamname"===this.state.searchType){var s=this.state.searchVal.split(" ").join("");this.setState({searched:!0,foundTeam:!0,teamName:s})}else a.collection("users").doc(this.state.searchVal).get().then((function(e){console.log(e.data()),!1===e.data().onTeam?t.setState({searched:!0,foundTeam:!1}):t.setState({searched:!0,foundTeam:!0,teamName:e.data().teamName})}))}},{key:"render",value:function(){return localStorage.getItem("uniqname")?"team"===this.state.usertype?Object(s.jsx)(y.a,{to:"/view-team"}):"unassigned"===this.state.usertype?Object(s.jsx)(y.a,{to:"/create-team"}):!0===this.state.searched?(localStorage.setItem("teamSearch",this.state.teamName),localStorage.setItem("userOnTeam",this.state.foundTeam),Object(s.jsx)(y.a,{to:"/admin-search"})):Object(s.jsxs)("div",{className:"Home",children:[Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/admin-home",children:Object(s.jsx)("img",{src:"./EECS493-admin.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/admin-home",children:"Home"}),Object(s.jsx)(g.a.Link,{href:"/admin-view",children:"Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"App-header",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsxs)(x.a,{inline:!0,className:"search-bar w-100",onSubmit:this.handleSearch,children:[Object(s.jsxs)(x.a.Control,{as:"select",value:this.state.searchType,name:"searchType",onChange:this.updateInput,custom:!0,children:[Object(s.jsx)("option",{value:"default",children:"Search by..."}),Object(s.jsx)("option",{value:"Teamname",children:"Teamname"}),Object(s.jsx)("option",{value:"Uniqname",children:"Uniqname"})]}),Object(s.jsx)(x.a.Control,{required:!0,type:"text",name:"searchVal",value:this.state.searchVal,onChange:this.updateInput,placeholder:"Search by teamname or uniqname of team member",className:"mr-sm-2 w-75"}),Object(s.jsx)(v.a,{variant:"outline-success",type:"submit",children:"Search"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)(v.a,{variant:"outline-secondary",size:"lg",children:"Download teams.csv"}),Object(s.jsx)(v.a,{className:"download-buttons",variant:"outline-secondary",size:"lg",children:"Download users.csv"}),Object(s.jsx)(v.a,{variant:"outline-secondary",size:"lg",children:"Download unssigned.csv"})]})]})})]}):Object(s.jsx)(y.a,{to:"/"})}}]),a}(i.a.Component),L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),s=t.call(this,e),console.log("props",e),s.state={numInv:0,uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),dataLoaded:!1,onTeam:!1},s}return Object(l.a)(a,[{key:"render",value:function(){if(!localStorage.getItem("uniqname"))return Object(s.jsx)(y.a,{to:"/"});if("admin"===this.state.usertype)return Object(s.jsx)(y.a,{to:"/admin-home"});var e="team"===this.state.usertype;return Object(s.jsxs)("div",{className:"viewteam",children:[e?Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/view-team",children:Object(s.jsx)("img",{src:"/EECS493_landscape.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/view-team",children:"My Team"}),Object(s.jsx)(g.a.Link,{href:"/see-teams",children:"All Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}):Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/create-team",children:Object(s.jsx)("img",{src:"/EECS493_landscape.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/create-team",children:"Create Team"}),Object(s.jsx)(g.a.Link,{href:"/team-invites",children:"Team Invitations"}),Object(s.jsx)(g.a.Link,{href:"/see-teams",children:"Registered Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"loggedInHeader",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("h1",{className:"title",children:"Coming Soon"}),Object(s.jsx)("div",{className:"body-content"})]})})]})}}]),a}(i.a.Component),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),s=t.call(this,e),console.log("props",e),s.state={numInv:0,uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),dataLoaded:!1,onTeam:!1},s}return Object(l.a)(a,[{key:"render",value:function(){return localStorage.getItem("uniqname")?"team"===this.state.usertype?Object(s.jsx)(y.a,{to:"/view-team"}):"unassigned"===this.state.usertype?Object(s.jsx)(y.a,{to:"/create-team"}):Object(s.jsxs)("div",{className:"admin-see-teams",children:[Object(s.jsxs)(p.a,{bg:"light",expand:"lg",children:[Object(s.jsx)(p.a.Brand,{href:"/admin-home",children:Object(s.jsx)("img",{src:"./EECS493-admin.png",height:"30",className:"d-inline-block align-top",alt:"EECS 493 Teams logo"})}),Object(s.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(g.a,{className:"mr-auto",children:[Object(s.jsx)(g.a.Link,{href:"/admin-home",children:"Home"}),Object(s.jsx)(g.a.Link,{href:"/admin-view",children:"Teams"})]}),Object(s.jsx)(g.a,{children:Object(s.jsx)(g.a.Link,{className:"mr-sm-2",href:"/",children:"Logout"})})]})]}),Object(s.jsx)("header",{className:"loggedInHeader",children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("h1",{className:"title",children:"Coming Soon"}),Object(s.jsx)("div",{className:"body-content"})]})})]}):Object(s.jsx)(y.a,{to:"/"})}}]),a}(i.a.Component),E=(a(81),a(58)),H=a.n(E),A=a(64),D=a(59),F="718813902892-24n6sjnr041if9ip2dcf68kvvi4q1ssn.apps.googleusercontent.com",B=m.firestore(),M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={isLoggedIn:!1,accessToken:""},s.login=s.login.bind(Object(b.a)(s)),s.handleLoginFailure=s.handleLoginFailure.bind(Object(b.a)(s)),s.logout=s.logout.bind(Object(b.a)(s)),s.handleLogoutFailure=s.handleLogoutFailure.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"login",value:function(){var e=Object(A.a)(H.a.mark((function e(t){var a,s,n,i,c=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.accessToken&&(this.setState((function(e){return{isLoggedIn:!0,accessToken:t.accessToken}})),a="",s=t.profileObj.email,console.log("get status email: "),s.endsWith("@umich.edu")||(console.log("not umich email address"),a="Must be a University of Michigan email address"),n=s.split("@"),i=n[0],B.collection("users").doc(i).get().then((function(e){console.log("snapshot",e.data()),e.empty&&(console.log("return status"),a="not on roster"),a=e.data().isAdmin?"admin":e.data().onTeam?"team":"unassigned",c.props.callback({status:"success",type:"login","user-type":a,uniqname:i,accessToken:c.state.accessToken})})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(e){this.setState((function(e){return{isLoggedIn:!1,accessToken:""}})),localStorage.clear(),this.props.callback({status:"success",type:"logout"})}},{key:"handleLoginFailure",value:function(e){alert("Failed to log in"),this.props.callback({status:"error",type:"login"})}},{key:"handleLogoutFailure",value:function(e){alert("Failed to log out"),this.props.callback({status:"error",type:"logout"})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:this.state.isLoggedIn?Object(s.jsx)(D.GoogleLogout,{clientId:F,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.handleLogoutFailure}):Object(s.jsx)(D.GoogleLogin,{clientId:F,buttonText:"Login",onSuccess:this.login,onFailure:this.handleLoginFailure,cookiePolicy:"single_host_origin",responseType:"code,token"})})}}]),a}(i.a.Component),U=a(88),_=a(89),G=a(90),R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={uniqname:localStorage.getItem("uniqname"),usertype:localStorage.getItem("user-type"),loggedin:!1,data:{}},s.handleLogin=s.handleLogin.bind(Object(b.a)(s)),s}return Object(l.a)(a,[{key:"handleLogin",value:function(e){this.setState({data:e}),"user-type"in e&&(localStorage.setItem("uniqname",e.uniqname),localStorage.setItem("user-type",e["user-type"]),console.log("setting user-type to: ",localStorage.getItem("user-type")),this.setState({loggedin:!0,data:{usertype:e["user-type"],uniqname:e.uniqname,accessToken:e.accessToken}}))}},{key:"render",value:function(){return console.log("am i admin",this.state.data.usertype),this.state.loggedin&&"not umich email address"!==this.state.data.usertype&&"'not on roster'"!==this.state.data.usertype?this.state.loggedin&&"admin"===this.state.data.usertype?Object(s.jsx)(y.a,{to:"/admin-home"}):this.state.loggedin&&"unassigned"===this.state.data.usertype?Object(s.jsx)(y.a,{to:"/create-team"}):this.state.loggedin&&"team"===this.state.data.usertype?Object(s.jsx)(y.a,{to:"/view-team"}):void 0:Object(s.jsx)("div",{className:"Home",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)(U.a,{src:"./EECS493_landscape.png",fluid:!0}),Object(s.jsxs)(_.a,{children:[Object(s.jsx)("i",{className:"mr-2",children:"Sign in to view your team"}),Object(s.jsx)(M,{className:"loginButton ml-2",callback:this.handleLogin})]}),Object(s.jsxs)(G.a,{className:" instructions justify-content-md-center mb-10 w-75",children:[Object(s.jsx)(I.a,{bg:"info",className:"cardclass",children:Object(s.jsxs)(I.a.Body,{children:[Object(s.jsx)(I.a.Title,{children:"Step 1"}),Object(s.jsxs)(I.a.Text,{children:["Find a group of 4 students who have similar interests as you on the ",Object(s.jsx)("a",{children:"Class Team-Finding Google Sheet."})]})]})}),Object(s.jsx)(I.a,{bg:"primary",className:"cardclass",children:Object(s.jsxs)(I.a.Body,{children:[Object(s.jsx)(I.a.Title,{children:"Step 2"}),Object(s.jsx)(I.a.Text,{children:"Log into EECS 493 Teams. Have 1 team member create the team, then have all other team members log in to accept the invitation."})]})}),Object(s.jsx)(I.a,{bg:"success",className:"cardclass",children:Object(s.jsxs)(I.a.Body,{children:[Object(s.jsx)(I.a.Title,{children:"Step 3"}),Object(s.jsx)(I.a.Text,{children:"Continue using EECS 493 Teams to see your team members' progress!"})]})})]})]})})}}]),a}(i.a.Component),V=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(y.d,{children:[Object(s.jsx)(y.b,{path:"/create-team",children:Object(s.jsx)(S,{})}),Object(s.jsx)(y.b,{path:"/team-invites",children:Object(s.jsx)(N,{})}),Object(s.jsx)(y.b,{path:"/admin-home",children:Object(s.jsx)(C,{})}),Object(s.jsx)(y.b,{path:"/admin-view",children:Object(s.jsx)(w,{})}),Object(s.jsx)(y.b,{path:"/view-team",children:Object(s.jsx)(T,{})}),Object(s.jsx)(y.b,{path:"/see-teams",children:Object(s.jsx)(L,{})}),Object(s.jsx)(y.b,{path:"/",children:Object(s.jsx)(R,{})})]})})}}]),a}(i.a.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),i(e),c(e)}))},P=a(23);o.a.render(Object(s.jsx)(P.a,{children:Object(s.jsx)(V,{})}),document.getElementById("root")),z()}},[[83,1,2]]]);
//# sourceMappingURL=main.d84679a4.chunk.js.map